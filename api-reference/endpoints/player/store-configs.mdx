---
title: 'GET /v1/player/store_configs'
description: 'Get personalized store configurations'
---

# Get Store Configurations

Retrieve personalized store configurations for a specific player. This endpoint returns customized product listings, pricing, and promotional offers based on player behavior and predictions.

<Card title="Endpoint" icon="server">
  ```
  GET https://api.gameramp.com/v1/player/store_configs
  ```
</Card>

## Request

### Headers

<ParamField header="Authorization" type="string" required>
  Bearer token obtained from login
  ```
  Authorization: Bearer <JWT_TOKEN>
  ```
</ParamField>

<ParamField header="X-Tenant-ID" type="string" required>
  Your tenant/studio identifier
</ParamField>

<ParamField header="X-Game-Id" type="string" required>
  Your game identifier
</ParamField>

<ParamField header="X-Player-Id" type="string" required>
  The player identifier to get configurations for
</ParamField>

### Example Request

<CodeGroup>
```bash cURL
curl -X GET 'https://api.gameramp.com/v1/player/store_configs' \
  -H 'Authorization: Bearer YOUR_JWT_TOKEN' \
  -H 'X-Tenant-Id: test_tenant_1752523421' \
  -H 'X-Game-Id: default_game' \
  -H 'X-Player-Id: player_123'
```

```javascript Node.js
async function getStoreConfigs(token, tenantId, gameId, playerId) {
  const response = await fetch('https://api.gameramp.com/v1/player/store_configs', {
    method: 'GET',
    headers: {
      'Authorization': `Bearer ${token}`,
      'X-Tenant-ID': tenantId,
      'X-Game-Id': gameId,
      'X-Player-Id': playerId
    }
  });

  if (!response.ok) {
    throw new Error(`Failed to get store configs: ${response.status}`);
  }

  return response.json();
}

// Usage
try {
  const configs = await getStoreConfigs(
    'your-jwt-token',
    'test_tenant_1752523421',
    'default_game',
    'player_123'
  );

  // Display products in store
  configs.activeSkus.forEach(sku => {
    console.log(`${sku.name}: ${sku.currency}${sku.offerPrice}`);
    if (sku.offerPrice < sku.actualPrice) {
      const discount = Math.round((1 - sku.offerPrice / sku.actualPrice) * 100);
      console.log(`  ${discount}% OFF!`);
    }
  });
} catch (error) {
  console.error('Error:', error);
}
```

```python Python
import requests

def get_store_configs(token, tenant_id, game_id, player_id):
    response = requests.get(
        'https://api.gameramp.com/v1/player/store_configs',
        headers={
            'Authorization': f'Bearer {token}',
            'X-Tenant-ID': tenant_id,
            'X-Game-Id': game_id,
            'X-Player-Id': player_id
        }
    )

    if response.status_code == 200:
        return response.json()
    else:
        raise Exception(f'Failed to get store configs: {response.status_code}')

# Usage
try:
    configs = get_store_configs(
        'your-jwt-token',
        'test_tenant_1752523421',
        'default_game',
        'player_123'
    )

    # Display products
    for sku in configs['activeSkus']:
        print(f"{sku['name']}: {sku['currency']}{sku['offerPrice']}")

        if sku['offerPrice'] < sku['actualPrice']:
            discount = round((1 - sku['offerPrice'] / sku['actualPrice']) * 100)
            print(f"  {discount}% OFF!")

except Exception as e:
    print(f'Error: {e}')
```

```csharp Unity/C#
using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using UnityEngine.Networking;

[System.Serializable]
public class StoreConfig
{
    [System.Serializable]
    public class SKU
    {
        public string skuId;
        public string name;
        public string description;
        public float actualPrice;
        public float offerPrice;
        public string currency;
        public List<string> assets;
        public bool active;
    }

    public List<SKU> activeSkus;
    public long lastUpdatedTimestamp;
    public string userSpecificPromoId;
    public object fallbackConfig;
}

public class StoreManager : MonoBehaviour
{
    private StoreConfig currentConfig;

    public IEnumerator FetchStoreConfigs(
        string accessToken,
        string tenantId,
        string gameId,
        string playerId,
        System.Action<StoreConfig> onSuccess,
        System.Action<string> onError)
    {
        string url = "https://api.gameramp.com/v1/player/store_configs";

        using (UnityWebRequest request = UnityWebRequest.Get(url))
        {
            request.SetRequestHeader("Authorization", $"Bearer {accessToken}");
            request.SetRequestHeader("X-Tenant-ID", tenantId);
            request.SetRequestHeader("X-Game-Id", gameId);
            request.SetRequestHeader("X-Player-Id", playerId);

            yield return request.SendWebRequest();

            if (request.result == UnityWebRequest.Result.Success)
            {
                string json = request.downloadHandler.text;
                StoreConfig config = JsonUtility.FromJson<StoreConfig>(json);
                currentConfig = config;

                onSuccess?.Invoke(config);
                UpdateStoreUI(config);
            }
            else
            {
                onError?.Invoke(request.error);
            }
        }
    }

    void UpdateStoreUI(StoreConfig config)
    {
        foreach (var sku in config.activeSkus)
        {
            if (sku.active)
            {
                // Create store item UI
                CreateStoreItem(sku);

                // Show discount if applicable
                if (sku.offerPrice < sku.actualPrice)
                {
                    float discount = (1 - sku.offerPrice / sku.actualPrice) * 100;
                    ShowDiscount(sku.skuId, discount);
                }
            }
        }
    }

    void CreateStoreItem(StoreConfig.SKU sku)
    {
        // Implementation for creating store UI item
        Debug.Log($"Adding store item: {sku.name} - {sku.currency}{sku.offerPrice}");
    }

    void ShowDiscount(string skuId, float discountPercentage)
    {
        Debug.Log($"Item {skuId} is {discountPercentage:F0}% OFF!");
    }
}
```
</CodeGroup>

## Response

### Success Response (200 OK)

```json
{
  "activeSkus": [
    {
      "skuId": "starter_pack",
      "name": "Starter Pack",
      "description": "Perfect for new players",
      "actualPrice": 0.99,
      "offerPrice": 0.99,
      "currency": "USD",
      "assets": [],
      "active": true
    },
    {
      "skuId": "remove_ads",
      "name": "Remove Ads",
      "description": "Removes all advertisements",
      "actualPrice": 2.99,
      "offerPrice": 2.99,
      "currency": "USD",
      "assets": [],
      "active": true
    },
    {
      "skuId": "premium_currency_small",
      "name": "Premium Currency (Small)",
      "description": "100 premium coins",
      "actualPrice": 4.99,
      "offerPrice": 4.99,
      "currency": "USD",
      "assets": [],
      "active": true
    }
  ],
  "lastUpdatedTimestamp": 0,
  "userSpecificPromoId": null,
  "fallbackConfig": null
}
```

### Response Fields

<ResponseField name="activeSkus" type="array" required>
  Array of available products for this player

  <Expandable title="SKU properties">
    <ResponseField name="skuId" type="string" required>
      Unique product identifier (matches store SKU)
    </ResponseField>

    <ResponseField name="name" type="string" required>
      Display name of the product
    </ResponseField>

    <ResponseField name="description" type="string" required>
      Product description
    </ResponseField>

    <ResponseField name="actualPrice" type="number" required>
      Original price before any discounts
    </ResponseField>

    <ResponseField name="offerPrice" type="number" required>
      Current price for this player (may include personalized discount)
    </ResponseField>

    <ResponseField name="currency" type="string" required>
      ISO 4217 currency code (e.g., "USD", "EUR", "GBP")
    </ResponseField>

    <ResponseField name="assets" type="array">
      Array of asset URLs or identifiers for the product
    </ResponseField>

    <ResponseField name="active" type="boolean" required>
      Whether this product is currently available for purchase
    </ResponseField>
  </Expandable>
</ResponseField>

<ResponseField name="lastUpdatedTimestamp" type="number">
  Unix timestamp (milliseconds) of last configuration update
</ResponseField>

<ResponseField name="userSpecificPromoId" type="string | null">
  Identifier for user-specific promotional campaign
</ResponseField>

<ResponseField name="fallbackConfig" type="object | null">
  Fallback configuration to use if primary config fails
</ResponseField>

## Error Responses

### 401 Unauthorized

Invalid or expired JWT token

```json
{
  "error": "Invalid authentication token",
  "status": "error"
}
```

### 404 Not Found

Player or configuration not found

```json
{
  "error": "Configuration not found for player",
  "status": "error"
}
```

### 400 Bad Request

Missing required headers

```json
{
  "error": "Missing required header: X-Game-Id",
  "status": "error"
}
```

## Store Implementation

### Dynamic Pricing Display

```javascript
class StoreUI {
  displayProducts(storeConfig) {
    const container = document.getElementById('store-products');
    container.innerHTML = '';

    storeConfig.activeSkus.forEach(sku => {
      if (!sku.active) return;

      const productElement = this.createProductElement(sku);
      container.appendChild(productElement);
    });
  }

  createProductElement(sku) {
    const element = document.createElement('div');
    element.className = 'store-item';

    const hasDiscount = sku.offerPrice < sku.actualPrice;
    const discountPercent = hasDiscount
      ? Math.round((1 - sku.offerPrice / sku.actualPrice) * 100)
      : 0;

    element.innerHTML = `
      <div class="product-card">
        <h3>${sku.name}</h3>
        <p>${sku.description}</p>
        <div class="price-container">
          ${hasDiscount ? `
            <span class="original-price">${sku.currency}${sku.actualPrice.toFixed(2)}</span>
            <span class="discount-badge">${discountPercent}% OFF</span>
          ` : ''}
          <span class="offer-price">${sku.currency}${sku.offerPrice.toFixed(2)}</span>
        </div>
        <button onclick="purchaseProduct('${sku.skuId}')">
          ${this.getButtonText(sku)}
        </button>
      </div>
    `;

    return element;
  }

  getButtonText(sku) {
    if (sku.skuId.includes('currency')) {
      return 'Buy Coins';
    } else if (sku.skuId === 'remove_ads') {
      return 'Remove Ads';
    } else if (sku.skuId.includes('pack')) {
      return 'Get Pack';
    }
    return 'Purchase';
  }
}

// Usage
const storeUI = new StoreUI();

async function loadStore() {
  try {
    const configs = await getStoreConfigs(
      authToken,
      tenantId,
      gameId,
      playerId
    );

    storeUI.displayProducts(configs);

    // Track store view
    trackEvent('store_view', {
      skuCount: configs.activeSkus.length,
      promoId: configs.userSpecificPromoId
    });
  } catch (error) {
    console.error('Failed to load store:', error);
    // Show fallback store or error message
  }
}
```

### Handling Promotions

```javascript
class PromotionManager {
  applyPromotion(storeConfig) {
    if (!storeConfig.userSpecificPromoId) {
      return storeConfig;
    }

    // Highlight promotional items
    storeConfig.activeSkus.forEach(sku => {
      if (this.isPromotionalItem(sku, storeConfig.userSpecificPromoId)) {
        sku.isPromoted = true;
        sku.promotionEndTime = this.getPromotionEndTime(
          storeConfig.userSpecificPromoId
        );
      }
    });

    return storeConfig;
  }

  isPromotionalItem(sku, promoId) {
    // Logic to determine if SKU is part of promotion
    const promotionalSkus = this.getPromotionalSkus(promoId);
    return promotionalSkus.includes(sku.skuId);
  }

  getPromotionEndTime(promoId) {
    // Return promotion end time
    return Date.now() + (24 * 60 * 60 * 1000); // 24 hours from now
  }

  getPromotionalSkus(promoId) {
    // Map promo IDs to SKUs
    const promoMap = {
      'summer_sale': ['starter_pack', 'premium_currency_small'],
      'new_player': ['starter_pack'],
      'vip_offer': ['remove_ads', 'premium_currency_large']
    };

    return promoMap[promoId] || [];
  }
}
```

## Caching Strategy

```javascript
class StoreConfigCache {
  constructor() {
    this.cache = null;
    this.cacheExpiry = null;
    this.cacheTimeout = 300000; // 5 minutes
  }

  async getConfig(fetchFunction, forceRefresh = false) {
    // Check if we need to refresh
    const needsRefresh = forceRefresh ||
                        !this.cache ||
                        !this.cacheExpiry ||
                        Date.now() > this.cacheExpiry;

    if (needsRefresh) {
      try {
        this.cache = await fetchFunction();
        this.cacheExpiry = Date.now() + this.cacheTimeout;
      } catch (error) {
        // If fetch fails and we have cache, use it
        if (this.cache) {
          console.warn('Using cached config due to fetch error:', error);
        } else {
          throw error;
        }
      }
    }

    return this.cache;
  }

  invalidate() {
    this.cache = null;
    this.cacheExpiry = null;
  }
}

// Usage
const storeCache = new StoreConfigCache();

async function getStoreCached(forceRefresh = false) {
  return storeCache.getConfig(
    () => getStoreConfigs(token, tenantId, gameId, playerId),
    forceRefresh
  );
}

// Invalidate cache after purchase
async function onPurchaseComplete() {
  storeCache.invalidate();
  await getStoreCached(true); // Force refresh
}
```

## Testing

Test store configuration retrieval:

```bash
# Get JWT token
TOKEN=$(curl -X POST 'http://api.gameramp.com/auth/login' \
  -H 'Content-Type: application/json' \
  -d '{
    "apiKey": "test_tenant_4Dqms3ygG9FVC",
    "deviceId": "device-123",
    "timestamp": "2025-07-15T19:44:26Z",
    "signature": "/Sn9msNKK4ifTEYrGC/GKpRptolLIyWi4jsfdn5S4g8="
  }' | jq -r '.accessToken')

# Get store configs
curl -X GET 'http://api.gameramp.com/v1/player/store_configs' \
  -H "Authorization: Bearer $TOKEN" \
  -H 'X-Tenant-Id: test_tenant_1752523421' \
  -H 'X-Game-Id: default_game' \
  -H 'X-Player-Id: test_player_123' | jq
```

## Best Practices

<Steps>
  <Step title="Cache Wisely">
    Cache configs for 5-10 minutes to balance freshness and performance
  </Step>
  <Step title="Handle Currency">
    Always display prices with proper currency formatting
  </Step>
  <Step title="Show Savings">
    Highlight discounts when offerPrice < actualPrice
  </Step>
  <Step title="Validate SKUs">
    Verify SKU IDs match your store configuration
  </Step>
  <Step title="Track Impressions">
    Log which products are displayed to measure effectiveness
  </Step>
</Steps>

## Related Documentation

<CardGroup cols={2}>
  <Card
    title="Player Status"
    icon="user"
    href="/api-reference/endpoints/player/status"
  >
    Get player predictions
  </Card>
  <Card
    title="Unity SDK IAP"
    icon="unity"
    href="/sdks/unity/iap"
  >
    Unity IAP integration
  </Card>
</CardGroup>