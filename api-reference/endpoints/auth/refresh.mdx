---
title: 'POST /auth/refresh'
description: 'Refresh expired access tokens'
---

# Refresh Access Token

Refresh an expired access token using a valid refresh token. This endpoint allows you to obtain a new set of tokens without requiring the user to re-authenticate.

<Card title="Endpoint" icon="server">
  ```
  POST https://api.gameramp.com/auth/refresh
  ```
</Card>

## Request

### Headers

<ParamField header="Content-Type" type="string" required>
  Must be `application/json`
</ParamField>

### Body Parameters

<ParamField body="refreshToken" type="string" required>
  The refresh token obtained from previous login or refresh
</ParamField>

### Example Request

<CodeGroup>
```bash cURL
curl -X POST 'https://api.gameramp.com/auth/refresh' \
  -H 'Content-Type: application/json' \
  -d '{
    "refreshToken": "734539f4-19ad-4b78-836e-a4c61e5911bc"
  }'
```

```javascript Node.js
async function refreshAccessToken(refreshToken) {
  const response = await fetch('https://api.gameramp.com/auth/refresh', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
    },
    body: JSON.stringify({
      refreshToken: refreshToken
    })
  });

  if (!response.ok) {
    throw new Error('Failed to refresh token');
  }

  return response.json();
}

// Usage
try {
  const tokens = await refreshAccessToken('your-refresh-token');
  console.log('New access token:', tokens.accessToken);
} catch (error) {
  console.error('Token refresh failed:', error);
  // Handle re-authentication
}
```

```python Python
import requests

def refresh_access_token(refresh_token):
    response = requests.post(
        'https://api.gameramp.com/auth/refresh',
        json={
            'refreshToken': refresh_token
        }
    )

    if response.status_code == 200:
        return response.json()
    elif response.status_code == 401:
        # Refresh token expired or invalid
        raise Exception('Refresh token invalid, re-authentication required')
    else:
        raise Exception(f'Token refresh failed: {response.status_code}')

# Usage
try:
    tokens = refresh_access_token('your-refresh-token')
    print(f"New access token: {tokens['accessToken']}")
except Exception as e:
    print(f"Error: {e}")
    # Handle re-authentication
```
</CodeGroup>

## Response

### Success Response (200 OK)

```json
{
  "accessToken": "eyJraWQiOiJhZTMwOWE2Yy1mMGVlLTRlYmYtYjIzNi1hMGQ3ZDk0ODg1ZTQiLCJhbGciOiJSUzI1NiJ9...",
  "refreshToken": "eebd9f2b-c421-4dda-a9ae-05ea08c6db6b",
  "tokenType": "Bearer",
  "expiresIn": 900000,
  "userId": "device-123_5c850714",
  "deviceId": "device-123",
  "gameId": "default_game",
  "tenantId": "test_tenant_1752523421"
}
```

### Response Fields

<ResponseField name="accessToken" type="string">
  New JWT access token for authenticating API requests
</ResponseField>

<ResponseField name="refreshToken" type="string">
  New refresh token for future token renewal
</ResponseField>

<ResponseField name="tokenType" type="string">
  Always "Bearer"
</ResponseField>

<ResponseField name="expiresIn" type="number">
  Access token validity period in seconds
</ResponseField>

<ResponseField name="userId" type="string">
  User identifier
</ResponseField>

<ResponseField name="deviceId" type="string">
  Device identifier
</ResponseField>

<ResponseField name="gameId" type="string">
  Game identifier
</ResponseField>

<ResponseField name="tenantId" type="string">
  Tenant/Studio identifier
</ResponseField>

## Error Responses

### 401 Unauthorized

Refresh token is expired, invalid, revoked, or not found

```json
{
  "error": "Invalid refresh token",
  "status": "error"
}
```

**Action Required:** User must re-authenticate using the [login endpoint](/api-reference/endpoints/auth/login)

### 500 Internal Server Error

Unexpected server error during token refresh

```json
{
  "error": "Internal server error",
  "status": "error"
}
```

## Token Management Best Practices

<Steps>
  <Step title="Track Expiration">
    Monitor the `expiresIn` value and refresh tokens proactively before they expire
  </Step>
  <Step title="Handle 401 Errors">
    When receiving 401 errors on API calls, attempt to refresh the token automatically
  </Step>
  <Step title="Secure Storage">
    Store refresh tokens securely - they have longer validity than access tokens
  </Step>
  <Step title="Single Use">
    Use each refresh token only once - a new one is provided with each refresh
  </Step>
</Steps>

## Implementation Example

### Automatic Token Refresh

<CodeGroup>
```javascript Token Manager
class TokenManager {
  constructor() {
    this.accessToken = null;
    this.refreshToken = null;
    this.expiresAt = null;
  }

  setTokens(response) {
    this.accessToken = response.accessToken;
    this.refreshToken = response.refreshToken;
    // Calculate expiration time (subtract 60 seconds for buffer)
    this.expiresAt = Date.now() + (response.expiresIn * 1000) - 60000;
  }

  async getValidToken() {
    // Check if token needs refresh
    if (!this.accessToken || Date.now() >= this.expiresAt) {
      await this.refreshTokens();
    }
    return this.accessToken;
  }

  async refreshTokens() {
    if (!this.refreshToken) {
      throw new Error('No refresh token available');
    }

    try {
      const response = await fetch('https://api.gameramp.com/auth/refresh', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ refreshToken: this.refreshToken })
      });

      if (response.ok) {
        const tokens = await response.json();
        this.setTokens(tokens);
      } else {
        // Refresh failed, need to re-login
        throw new Error('Token refresh failed');
      }
    } catch (error) {
      console.error('Refresh error:', error);
      // Clear tokens and force re-login
      this.clearTokens();
      throw error;
    }
  }

  clearTokens() {
    this.accessToken = null;
    this.refreshToken = null;
    this.expiresAt = null;
  }
}

// Usage
const tokenManager = new TokenManager();

// When making API calls
async function makeAPICall(endpoint) {
  const token = await tokenManager.getValidToken();

  return fetch(endpoint, {
    headers: {
      'Authorization': `Bearer ${token}`,
      'Content-Type': 'application/json'
    }
  });
}
```
</CodeGroup>

## Testing

Test token refresh with development credentials:

```bash
# First, login to get tokens
curl -X POST 'http://api.gameramp.com/auth/login' \
  -H 'Content-Type: application/json' \
  -d '{
    "apiKey": "test_tenant_4Dqms3ygG9FVC",
    "deviceId": "device-123",
    "timestamp": "2025-07-15T19:44:26Z",
    "signature": "/Sn9msNKK4ifTEYrGC/GKpRptolLIyWi4jsfdn5S4g8="
  }'

# Then use the refresh token from the response
curl -X POST 'https://api.gameramp.com/auth/refresh' \
  -H 'Content-Type: application/json' \
  -d '{
    "refreshToken": "YOUR_REFRESH_TOKEN_HERE"
  }'
```

## Related Endpoints

<CardGroup cols={2}>
  <Card
    title="Login"
    icon="right-to-bracket"
    href="/api-reference/endpoints/auth/login"
  >
    Initial authentication endpoint
  </Card>
  <Card
    title="Logout"
    icon="right-from-bracket"
    href="/api-reference/endpoints/auth/logout"
  >
    Invalidate tokens
  </Card>
</CardGroup>